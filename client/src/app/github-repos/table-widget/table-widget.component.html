<table mat-table [dataSource]="githubRepositories" matSort>
  <ng-container matColumnDef="pos">
    <th mat-header-cell *matHeaderCellDef>
      #
    </th>
    <td mat-cell *matCellDef="let element"> {{element.index}} </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>
      Name
    </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <ng-container matColumnDef="author">
    <th mat-header-cell *matHeaderCellDef>
      Author
    </th>
    <td mat-cell *matCellDef="let element">
      <div class="author">
        <img [src]="element.owner.avatar_url" width="20" height="20">
        {{element.owner.login}}
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="html_url">
    <th mat-header-cell *matHeaderCellDef>
      Repository
    </th>
    <td mat-cell *matCellDef="let element">
      <a [href]="element.html_url" target="_blank">Link</a>
    </td>
  </ng-container>

  <ng-container matColumnDef="stars">
    <th mat-header-cell *matHeaderCellDef>
      Stars
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.stargazers_count | number }}
    </td>
  </ng-container>

  <ng-container matColumnDef="open_issues">
    <th mat-header-cell *matHeaderCellDef>
      Open Issues
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.open_issues | number }}
    </td>
  </ng-container>

  <ng-container matColumnDef="last_updated">
    <th mat-header-cell *matHeaderCellDef>
      Last Updated
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.updated_at | date:'MM/dd/yyyy HH:mm:ss'}}
    </td>
  </ng-container>

  <ng-container matColumnDef="language">
    <th mat-header-cell *matHeaderCellDef>
      Language
    </th>
    <td mat-cell *matCellDef="let element">
      {{element.language }}
    </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button (click)="toggleFavourite.emit(element.id)">
        <mat-icon>{{ isFavorite(element.id) ? 'star' : 'star_outline' }} </mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" ></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
